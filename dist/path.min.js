!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Path=n()}(this,function(){"use strict"
function t(t){if(Array.isArray(t))return t
for(var n=t.trim().split(/\s*(?=[A-Z])/i),r=[],e=0,o=n.length;o>e;e++){var i=n[e].trim().replace(/([^, ])-/g,"$1,-").replace(/([a-z])(?![,])/gi,"$1 ").split(/[\s,]+/).map(function(t,n){return 0===n?t:+t}),u=i[0],a=u.toUpperCase()
if(0!==e&&a!==u){var p=r[e-1]
i[0]=a
for(var s=1,c=i.length;c>s;s++)i[s]+=p[p.length-((s-1)%2==0?2:1)]}r.push(i)}return r}function n(t,n){var e=n&&n.type||"relative"
return t.map(function(t,n,o){var i=0===n||"absolute"===e,u=o[n-1],a=i?t[0]:t[0].toLowerCase(),p=i?r:function(t,n){return r(+t-+u[u.length-(n%2==0?2:1)])}
return a+t.slice(1).map(p).join(",")}).join("")}function r(t){return t.toFixed(1).replace(".0","")}function e(t,n){var r=n.length,e=n[0]===f||n[0]===l,o=e?2*n[r-2]-n[r-4]:n[r-1],i=e?2*n[r-1]-n[r-3]:n[r-2]
return[f,o,i].concat(t.slice(1))}function o(t){throw new Error(t)}function i(t){for(var n=t.map(function(n,r){var i=n[0]
return i===h||i===v||i===f?n.slice():i===l?e(n,t[r-1]):void o("Can't reverse that")}),r=[[h].concat(n[n.length-1].splice(-2,2))],i=n.length-1;i>=1;i--){for(var u=n[i],a=[u[0]],p=u.length-2;p>0;p-=2)a.push.apply(a,u.slice(p,p+2))
a.push.apply(a,n[i-1].splice(-2,2)),r.push(a)}return r}function u(t,n,r){var e=t.length
e!==n.length&&o("Paths must be equal length")
for(var i=[],u=0;e>u;u++)i.push(a(t,n,u,r))
return i}function a(t,n,r,i){var u=t[r],a=n[r],s=u[0],c=a[0]
p(s,c)||o(s+"+"+c+"is not supported"),s===l&&c===f?u=e(u,t[r-1]):c===l&&s===f&&(a=e(a,n[r-1]))
for(var h=[u[0]],v=1;v<u.length;v++)h.push(u[v]*(1-i)+a[v]*i)
return h}function p(t,n){return t===n||t===f&&n===l||t===l&&n===f}function s(t,r){var e=r&&r.loop,o=t[0]
e&&t.push(o)
var i=1/(t.length-1)
return function(r){e&&(r%=1)
var o=Math.floor(r/i),a=r%i/i
return n(g>a||o+1===t.length?t[o]:u(t[o],t[o+1],a))}}function c(t){return n(i(d(t).points))}var f="C",l="S",h="M",v="L",g=Math.pow(2,-52),d=function n(r){return r instanceof n?r:this instanceof n?void(this.points=t(r)):new n(r)}
return d.mix=function(n,r,e){return null==e&&(e=.5),d(u(t(n),t(r),e))},d.scale=function(n,r){return s(n.map(t),r)},d.reverse=c,d.prototype.reverse=function(){return c(this.points)},d.prototype.d=d.prototype.toString=function(t){return n(this.points,t)},d})
